import { ReactNode } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { Stars, Home, MessageCircle } from 'lucide-react';\nimport { FORTUNE_SERVICES } from '../lib/constants';\n\ninterface LayoutProps {\n  children: ReactNode;\n}\n\nexport default function Layout({ children }: LayoutProps) {\n  const location = useLocation();\n\n  const isActivePath = (path: string) => {\n    return location.pathname === path;\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\">\n      {/* 星空背景 */}\n      <div className=\"fixed inset-0 overflow-hidden pointer-events-none\">\n        {Array.from({ length: 50 }).map((_, i) => (\n          <div\n            key={i}\n            className=\"absolute bg-white rounded-full star\"\n            style={{\n              left: `${Math.random() * 100}%`,\n              top: `${Math.random() * 100}%`,\n              width: `${Math.random() * 3 + 1}px`,\n              height: `${Math.random() * 3 + 1}px`,\n              animationDelay: `${Math.random() * 2}s`,\n              animationDuration: `${Math.random() * 3 + 2}s`\n            }}\n          />\n        ))}\n      </div>\n\n      {/* 导航栏 */}\n      <nav className=\"relative z-10 bg-black/20 backdrop-blur-md border-b border-purple-500/30\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <Link to=\"/\" className=\"flex items-center space-x-2\">\n              <div className=\"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center\">\n                <span className=\"text-xl\">🔮</span>\n              </div>\n              <span className=\"text-xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\n                天机阁\n              </span>\n            </Link>\n\n            <div className=\"hidden md:flex items-center space-x-8\">\n              <Link\n                to=\"/\"\n                className={`flex items-center space-x-1 px-3 py-2 rounded-lg transition-all ${\n                  isActivePath('/') \n                    ? 'bg-purple-600/30 text-purple-300' \n                    : 'text-gray-300 hover:text-white hover:bg-white/10'\n                }`}\n              >\n                <Home size={16} />\n                <span>首页</span>\n              </Link>\n              \n              {FORTUNE_SERVICES.map((service) => (\n                <Link\n                  key={service.id}\n                  to={`/${service.id}`}\n                  className={`px-3 py-2 rounded-lg transition-all ${\n                    isActivePath(`/${service.id}`) \n                      ? 'bg-purple-600/30 text-purple-300' \n                      : 'text-gray-300 hover:text-white hover:bg-white/10'\n                  }`}\n                >\n                  <span className=\"mr-1\">{service.icon}</span>\n                  {service.name}\n                </Link>\n              ))}\n              \n              <Link\n                to=\"/chat\"\n                className={`flex items-center space-x-1 px-3 py-2 rounded-lg transition-all ${\n                  isActivePath('/chat') \n                    ? 'bg-purple-600/30 text-purple-300' \n                    : 'text-gray-300 hover:text-white hover:bg-white/10'\n                }`}\n              >\n                <MessageCircle size={16} />\n                <span>AI对话</span>\n              </Link>\n            </div>\n\n            {/* 移动端菜单 */}\n            <div className=\"md:hidden\">\n              <button className=\"text-gray-300 hover:text-white\">\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16M4 18h16\" />\n                </svg>\n              </button>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* 主要内容 */}\n      <main className=\"relative z-10\">\n        {children}\n      </main>\n\n      {/* 底部 */}\n      <footer className=\"relative z-10 bg-black/20 backdrop-blur-md border-t border-purple-500/30 mt-16\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n          <div className=\"text-center\">\n            <div className=\"flex items-center justify-center space-x-2 mb-4\">\n              <Stars className=\"text-purple-400\" size={24} />\n              <span className=\"text-2xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent\">\n                天机阁\n              </span>\n              <Stars className=\"text-purple-400\" size={24} />\n            </div>\n            <p className=\"text-gray-400 mb-2\">\n              融合现代AI技术与传统文化的智能算命平台\n            </p>\n            <p className=\"text-sm text-gray-500\">\n              © 2025 天机阁. 仅供娱乐参考，请理性对待\n            </p>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}"